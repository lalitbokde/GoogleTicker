<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Click Ticker</title>
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" type="text/css" media="screen" href="~/Content/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="~/Content/css/font-awesome.min.css">

    <link rel="stylesheet" type="text/css" media="screen" href="~/Content/css/smartadmin-production-plugins.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="~/Content/css/smartadmin-production.min.css">
    @*<link rel="stylesheet" type="text/css" media="screen" href="~/Content/css/smartadmin-skins.min.css">*@
    <link href="~/Content/css/smartadmin-skins.css" rel="stylesheet" />

    <link href="~/Content/NewTheme/css/jquery.datetimepicker.css" rel="stylesheet" />


    <!-- SmartAdmin RTL Support -->
    <link rel="stylesheet" type="text/css" media="screen" href="~/Content/css/smartadmin-rtl.min.css">

    @*<link href="~/Content/css/jquery.dataTables.min.css" rel="stylesheet" />   *@
    @*<link href="~/Content/css/dataTables.bootstrap.css" rel="stylesheet" />*@
    <link href="~/Content/css/dataTables.responsive.nightly.css" rel="stylesheet" />




    @Styles.Render("~/Content/admincss")

    @*<link rel="shortcut icon" href="img/favicon/favicon.png" type="image/x-icon">*@
    <link rel="shortcut icon" href="~/favicon.ico" type="image/x-icon">
    <link rel="icon" href="~/favicon.ico" type="image/x-icon">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <link href='http://fonts.googleapis.com/css?family=Roboto:400,300,700,500' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,300,400,700">

</head>
<body class="smart-style-2">

    <!-- HEADER -->
    <header id="header">

        <div id="logo-group">
            @* <span id="logo"><a href="index.html"><img src="img/logo-new.png" alt="SmartAdmin"></a> </span>*@
            <span id="logo"> <img src="~/img/cpaticker/mLOGO.png" alt="ClickTicker"> </span>
        </div>

        <div class="pull-right">

            <div id="hide-menu" class="btn-header transparent pull-right">
                <span> <a href="javascript:void(0);" data-action="toggleMenu" title="Collapse Menu"><i class="fa fa-reorder"></i></a> </span>
            </div>

            @using (Html.BeginForm("LogOff", "Account", new { area = "" }, FormMethod.Post, new { @id = "logoutForm", @class = "btn-header pull-right" }))
            {
                @Html.AntiForgeryToken()
                <div id="logout" class="btn-header transparent">
                    <span>
                        <a href="javascript:document.getElementById('logoutForm').submit()" data-action="userLogout" data-logout-msg="You can improve your security further after logging out by closing this opened browser" title="Sign Out"><i class="fa fa-sign-out"></i></a>
                    </span>
                </div>
            }

            <div id="fullscreen" class="btn-header transparent pull-right">
                <span><a href="javascript:void(0);" data-action="launchFullscreen" title="Full Screen"><i class="fa fa-arrows-alt"></i></a> </span>
            </div>


        </div>
    </header>
    <!-- END HEADER -->

    <aside id="left-panel">
        <div class="media user-media bg-dark dker">
            @*<div class="user-media-toggleHover">
                    <span class="fa fa-user"></span>
                </div>*@
            <div class="user-wrapper bg-dark">
                <a href="" class="user-link">
                    <img src="~/img/avatars/sunny.png" alt="User Picture" class="media-object img-thumbnail user-img">
                    <!--<span class="label label-danger user-label">16</span>-->
                </a>
                <div class="media-body">
                    <h5 class="media-heading"><span>@User.Identity.Name</span></h5>
                    <ul class="list-unstyled user-info">
                        @*<li> <a href="">Administrator</a>  </li>*@
                        <li>
                            Last Access :
                            <br>
                            <small>
                                <i class="fa fa-calendar"></i>&nbsp;16 Mar 16:32
                            </small>
                        </li>
                    </ul>
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <!-- User info -->
        <!-- end user info -->

        <nav>














            <ul id="menu" class="bg-blue dker">
                <li class="active">
                    <a title="Dashboard" href="@Url.Action("dashboard", "home")"><i class="fa fa-lg fa-fw fa-dashboard nav-icon"></i> <span class="menu-item-parent">Dashboard</span></a>
                </li>
                <!--                   <li>
                                       <a title="Dashboard" href="@Url.Action("hourly", "signalr")"><i class="fa fa-lg fa-fw fa-home nav-icon"></i> <span class="menu-item-parent">SignalR-HourlyReport</span></a>
                                   </li>
                                   -->

                <li>
                    <a href="@Url.Action("index", "campaign")"><i class="fa fa-lg fa-fw fa-bar-chart-o nav-icon"></i> <span class="menu-item-parent">Campaigns</span></a>
                </li>
                <li>
                    <a href="@Url.Action("index", "banner")"><i class="fa fa-lg fa-fw fa-picture-o nav-icon"></i> <span class="menu-item-parent">Banners</span></a>
                </li>
                <li>
                    <a href="@Url.Action("index", "conversionpixel")"><i class="fa fa-lg fa-fw fa-th nav-icon"></i> <span class="menu-item-parent">Conversion Pixels</span></a>
                </li>
                <li>
                    <a href="#"><i class="fa fa-lg fa-fw fa-users nav-icon"></i> <span class="menu-item-parent">Affiliates</span></a>
                    <ul>
                        <li>
                            <a href="@Url.Action("index", "affiliate")">Manage Affiliates</a>
                        </li>
                        <li>
                            <a href="@Url.Action("adjust", "affiliate")">Adjust Stats</a>
                        </li>
                    </ul>
                </li>
                <li class="">
                    <a href="#"><i class="fa fa-lg fa-fw fa-file-text nav-icon"></i> <span class="menu-item-parent">Reports</span></a>
                    <ul style="display: none;">
                        <li>
                            <a href="@Url.Action("hourly", "reports")">Hourly Report</a>
                        </li>
                        <li>
                            <a href="@Url.Action("daily", "reports")">Daily Report</a>
                        </li>
                        <li>
                            <a href="@Url.Action("affiliate", "reports")">Affiliates Report</a>
                        </li>
                        <li>
                            <a href="@Url.Action("conversion", "reports")">Conversions Report</a>
                        </li>
                        <li>
                            <a href="@Url.Action("conversionstatus", "reports")">Conversions Status</a>
                        </li>
                        <li>
                            <a href="@Url.Action("campaign", "reports")">Campaign Report</a>
                        </li>
                        <li>
                            <a href="@Url.Action("adcampaign", "reports")">Ad Campaign Report</a>
                        </li>
                        <li>
                            <a href="@Url.Action("traffic", "reports")">Traffic Referrals</a>
                        </li>
                        <li>
                            <a href="@Url.Action("clickslogs", "reports")">Clicks Logs</a>
                        </li>
                        <li>@Html.ActionLink("CTR Report", "ctr", "reports")</li>
                    </ul>
                </li>
                <li>
                    <a href="@Url.Action("index", "settings")"><i class="fa fa-cog fa-lg fa-fw nav-icon"></i> <span class="menu-item-parent">Settings</span></a>
                </li>
            </ul>
        </nav>
        <span class="minifyme" data-action="minifyMenu"> <i class="fa fa-arrow-circle-left hit"></i> </span>
    </aside>


    <!-- MAIN PANEL -->
    <div id="main" role="main">

        <!-- RIBBON -->
        @*<div id="ribbon">

                <span class="ribbon-button-alignment"> <span id="refresh" class="btn btn-ribbon" data-title="refresh"  rel="tooltip" data-placement="bottom" data-original-title="<i class='text-warning fa fa-warning'></i> Warning! This will reset all your widget settings." data-html="true"><i class="fa fa-refresh"></i></span> </span>

                <!-- breadcrumb -->
                <ol class="breadcrumb">
                    <!-- This is auto generated -->
                </ol>
                <!-- end breadcrumb -->



            </div>*@
        <!-- END RIBBON -->

        <div id="outsideContent">

            <div id="tkcontent"></div>

            @Html.Action("DisplayTopActions", "helper")

            @*<div class="row" style="padding-top:10px;">
                    <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
                        <h1 class="page-title txt-color-blueDark">
                            <i class="fa fa-bar-chart-o fa-fw"></i>
                            Campaigns
                        </h1>
                    </div>
                    @Html.Partial("_Sparks")
                </div>*@

        </div>

        <!-- MAIN CONTENT -->
        <div id="content">
            @RenderBody()
        </div>
        <!-- END MAIN CONTENT -->

    </div>
    <!-- END MAIN PANEL -->
    <!--=====================Sripts============================= -->

    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script>
        if (!window.jQuery) {
            document.write('<script src="@Url.Content("~/Content/js/libs/jquery-2.1.1.min.js")"><\/script>');
        }
    </script>

    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
    <script>
        if (!window.jQuery.ui) {
            document.write('<script src="@Url.Content("~/Content/js/libs/jquery-ui-1.10.3.min.js")"><\/script>');
        }
    </script>

    <script src="~/Content/js/app.config.js"></script>

    <script src="~/Content/js/plugin/jquery-touch/jquery.ui.touch-punch.min.js"></script>

    <script src="~/Content/js/bootstrap/bootstrap.min.js"></script>

    <script src="~/Content/js/notification/SmartNotification.min.js"></script>

    <script src="~/Content/js/smartwidgets/jarvis.widget.min.js"></script>

    <script src="~/Content/js/plugin/sparkline/jquery.sparkline.min.js"></script>

    <script src="~/Content/js/plugin/masked-input/jquery.maskedinput.min.js"></script>

    <script src="~/Content/js/plugin/select2/select2.min.js"></script>

    <script src="~/Content/js/plugin/msie-fix/jquery.mb.browser.min.js"></script>

    <script src="~/Content/js/plugin/fastclick/fastclick.min.js"></script>

    <script src="~/Content/js/plugin/jquery-form/jquery-form.min.js"></script>

    <script src="~/Scripts/knockout-3.2.0.js"></script>
    <script src="@Url.Content("~/Scripts/jquery.signalR-2.2.0.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/signalr/hubs")" type="text/javascript"></script>

    <!-- JQUERY VALIDATE -->
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/signalr")

    <script src="~/Content/js/plugin/jquery-cookie/jquery.cookie.js"></script>
    @*<script src="~/Content/js/plugin/jquery-timepicker-addon/jquery-ui-timepicker-addon.js"></script>
        <script src="~/Content/js/plugin/jquery-timepicker-addon/jquery-ui-sliderAccess.js"></script>*@

    <script src="~/Content/NewTheme/js/jquery.datetimepicker.js"></script>

    @Scripts.Render("~/bundles/ticker")

    <!--[if IE 8]>
        <h1>Your browser is out of date, please update your browser by going to www.microsoft.com/download</h1>
    <![endif]-->
    <!-- MAIN APP JS FILE -->
    @*<script src="~/Content/js/app.min.js"></script>*@
    <script src="~/Content/js/signalrclickticker.js"></script>
    <script src="~/Content/js/app.js"></script>


    <script type="text/javascript">
        localStorage.setItem('hourlyreprt', '0');
        //var currentdate = new Date();
        //var fromdate = (currentdate.getMonth() + 1) + '/' + currentdate.getDate() + '/' + currentdate.getFullYear();
        //$.ajax({
        //    type: "POST",
        //    url: "/SignalRNotify/NotifyHourlyReport",
        //    data: "{timezone:'" + $('#rzone').val() + "',viewdata:'" + $('#selectedview').val() + "',fromdate:'" + fromdate + "',todate:'" + $('#todate').val() + "',dataview:'testing'}",
        //    contentType: "application/json; charset=utf-8",
        //    dataType: "json",
        //    success: function (data) {
        //    }
        //});
        localStorage.setItem('affiliate', '0');
        //localStorage.setItem('conversionstatus', '0');
        //localStorage.setItem('campaignreport', '0');
        //localStorage.setItem('trafficreport', '0');
        //Master call SignalR
        NotifySparks();
        NotifyTicker();
        NotifyHourly();
        // NotifyCampaigns();
        //
        var TickerGlobal = null;

        //changeHashChangeHandler();
        refreshTicker();

        @* Set Ticker Color Var before call app.js *@
        @*$.bgcolor = '@ViewBag.TickerSetting.BackgroundColor';
        $.cpcolor = '@ViewBag.TickerSetting.CampaignColor';
        $.imcolor = '@ViewBag.TickerSetting.ImpressionColor';
        $.ckcolor = '@ViewBag.TickerSetting.ClickColor';
        $.cvcolor = '@ViewBag.TickerSetting.ConversionColor';
        $.ctcolor = '@ViewBag.TickerSetting.CostColor';
        $.rvcolor = '@ViewBag.TickerSetting.RevenueColor';*@

        $.sound_path = '@Url.Content("~/Content/sound/")';

        function tickersetu(ticker) {
            //debugger;
            TickerGlobal = ticker;
            tickerID = ticker.data('tickerid');
            $.ajax({
                type: "GET",
                url: '@Url.Action("buildticker", "helper")?&tickerid=' + ticker.data('tickerid'),
                success: function (data) {

                    //ticker.html(tickertransform(data));
                    ticker.html(tickerformat(data));
                    // set the colorconfig
                    //setTickerColors();
                    tickerColor(ticker);

                    ticker.trigger('ticker');
                },
                async: true
            });
        };

        function refreshTicker() {

            $('#tkcontent').load('@Url.Action("displayticker", "helper")', function () {
                //$('.tickerContainer').css('backgroundColor', $.bgcolor);
                ticker_update_start();

                // njhones here!
                //updateSparkPos();

            });


            @*$.ajax({
                    type: "GET",
                    url: '@Url.Action("displayticker", "helper")',
                    dataType: 'html',
                    cache: false,
                    async: true,
                    success: function (data) {
                        $('#tkcontent').html(data);
                        $('.tickerContainer').css('backgroundColor', $.bgcolor);
                        ticker_update_start();
                    }
                });*@
        }



        //-----------------------------------Start SignalR Notification -------------------------------------------------
        var table = null;
        var job = $.connection.trickerHub;
        //debugger;




        job.client.displaySparks = function () {
            NotifySparks();
            var url = window.location.href;
            if (url.toLowerCase().indexOf("signalra/campaign") > 0 || url.toLowerCase().indexOf("affiliate") > 0) {
                localStorage.setItem('hourlyreprt', '0');
            }
            if (url.toLowerCase().indexOf("dashboard") < 0) {
                ko.cleanNode(document.getElementById("sparks"));
                ko.applyBindings(skmodel, document.getElementById("sparks"));
                skmodel.loadData();
            }
            else {
                DashBoardSparks();
                TrafficChartSignalR();
            }

        };



        job.client.displayTicker = function () {
            tickersetu(TickerGlobal);
            //NotifyTicker();
        };

        job.client.displayhourlyreport = function () {
            var url = (window.location.href).toLowerCase();
            if (url.indexOf("signalra/reports") > 0) {
                var dateToCompare;
                var currentDate = new Date();



                if (url.indexOf("hourly") > 0) {

                    dateToCompare = new Date($("#fromdate").val());
                    var month = currentDate.getMonth() + 1;
                    var day = currentDate.getDate();

                    var currdate = currentDate.getFullYear() + '/' +
                        (month < 10 ? '0' : '') + month + '/' +
                        (day < 10 ? '0' : '') + day;
                    var CompaDate = new Date(currdate);
                    if (dateToCompare >= CompaDate) {
                        table.ajax.reload();
                    }
                }
                else if (url.indexOf("daily") > 0) {
                    var SelectedViews = $("#selectedview option:selected").text().toLowerCase().trim();
                    if (SelectedViews == "today" || SelectedViews == "last 7 days" || SelectedViews == "this month" || SelectedViews == "last six months" || SelectedViews == "all time on reports") {
                        table.ajax.reload();
                    }
                    else {
                        if (SelectedViews == "yesterday" || SelectedViews == "last month") {
                            
                        }
                        else
                        {
                            dateToCompare = new Date($("#todate").val());
                            if (dateToCompare >= currentDate) {
                                table.ajax.reload();
                            }
                        }

                    }
                }
                else if (url.indexOf("affiliate") > 0)
                { }
                else if (url.indexOf("conversionstatus") > 0)
                { }
                else if (url.indexOf("conversion") > 0) {
                    var SelectedViews = $("#selectedview option:selected").text().toLowerCase().trim();
                    if (SelectedViews == "today" || SelectedViews == "last 7 days" || SelectedViews == "this month" || SelectedViews == "last six months" || SelectedViews == "all time on reports") {
                        table.ajax.reload();
                    }
                    else {
                        if (SelectedViews == "yesterday" || SelectedViews == "last month") {

                        }
                        else {
                            dateToCompare = new Date($("#todate").val());
                            if (dateToCompare >= currentDate) {
                                table.ajax.reload();
                            }
                        }

                    }
                }
                else if (url.indexOf("adcampaign") > 0) {
                    var SelectedViews = $("#selectedview option:selected").text().toLowerCase().trim();
                    if (SelectedViews == "today" || SelectedViews == "last 7 days" || SelectedViews == "this month" || SelectedViews == "last six months" || SelectedViews == "all time on reports") {
                        table.ajax.reload();
                    }
                    else {
                        if (SelectedViews == "yesterday" || SelectedViews == "last month") {

                        }
                        else {
                            dateToCompare = new Date($("#todate").val());
                            if (dateToCompare >= currentDate) {
                                table.ajax.reload();
                            }
                        }

                    }
                }
                else if (url.indexOf("campaign") > 0) {
                    var SelectedViews = $("#selectedview option:selected").text().toLowerCase().trim();
                    if (SelectedViews == "today" || SelectedViews == "last 7 days" || SelectedViews == "this month" || SelectedViews == "last six months" || SelectedViews == "all time on reports") {
                        table.ajax.reload();
                    }
                    else {
                        if (SelectedViews == "yesterday" || SelectedViews == "last month") {

                        }
                        else {
                            dateToCompare = new Date($("#todate").val());
                            if (dateToCompare >= currentDate) {
                                table.ajax.reload();
                            }
                        }

                    }
                }
                else if (url.indexOf("traffic") > 0) {
                    var SelectedViews = $("#selectedview option:selected").text().toLowerCase().trim();
                    if (SelectedViews == "today" || SelectedViews == "last 7 days" || SelectedViews == "this month" || SelectedViews == "last six months" || SelectedViews == "all time on reports") {
                        table.ajax.reload();
                    }
                    else {
                        if (SelectedViews == "yesterday" || SelectedViews == "last month") {

                        }
                        else {
                            dateToCompare = new Date($("#todate").val());
                            if (dateToCompare >= currentDate) {
                                table.ajax.reload();
                            }
                        }

                    }
                }
                else if (url.indexOf("ctr") > 0)
                { }

            }

        };

        job.client.displayaffiliatereport = function () {
            var url = window.location.href;
            if (url.toLowerCase().indexOf("reports/affiliate") > 0) {

                NotifyAffiliate();
                var dateToCompare = new Date($("#todate").val());
                var currentDate = new Date();

                var SelectedViews = $("#selectedview option:selected").text().toLowerCase().trim();
                if (SelectedViews == "today" || SelectedViews == "last 7 days" || SelectedViews == "this month" || SelectedViews == "last six months" || SelectedViews == "all time on reports") {
                    table.ajax.reload();
                }
                else {
                    if (SelectedViews == "yesterday" || SelectedViews == "last month") {

                    }
                    else {
                        if (dateToCompare >= currentDate) {
                            table.ajax.reload();
                        }
                    }

                }

            }
        };
        job.client.displayconversionstatusreport = function () {
            var url = window.location.href;
            if (url.toLowerCase().indexOf("reports/conversionstatus") > 0) {

                NotifyConversionStatus();
                var dateToCompare = new Date($("#todate").val());
                var currentDate = new Date();
                var SelectedViews = $("#selectedview option:selected").text().toLowerCase().trim();
                if (SelectedViews == "today" || SelectedViews == "last 7 days" || SelectedViews == "this month" || SelectedViews == "last six months" || SelectedViews == "all time on reports") {
                    table.ajax.reload();
                }
                else {
                    if (SelectedViews == "yesterday" || SelectedViews == "last month") {

                    }
                    else {
                        if (dateToCompare >= currentDate) {
                            table.ajax.reload();
                        }
                    }

                }
            }
        };
        job.client.displayCTRreport = function () {
            var url = window.location.href;
            if (url.toLowerCase().indexOf("reports/ctr") > 0) {

                NotifyNotifyCTRReport();
                var dateToCompare = new Date($("#todate").val());
                var currentDate = new Date();
                var SelectedViews = $("#selectedview option:selected").text().toLowerCase().trim();
                if (SelectedViews == "today" || SelectedViews == "last 7 days" || SelectedViews == "this month" || SelectedViews == "last six months" || SelectedViews == "all time on reports") {
                    table.ajax.reload();
                }
                else {
                    if (SelectedViews == "yesterday" || SelectedViews == "last month") {

                    }
                    else {
                        if (dateToCompare >= currentDate) {
                            table.ajax.reload();
                        }
                    }

                }
            }
        };

        //job.client.displayCampaign = function () {
        //    NotifyCampaigns();
        //    DashBoardSparks();
        //};

        if ($.connection.hub.state == 3 || $.connection.hub.state == 4) {
            // Start the connection
            $.connection.hub.start();
        }

        function NotifySparks() {

            $.ajax({
                type: "POST",
                url: "/SignalRNotify/NotifySparks",
                //data: "{ID:'" + ID + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {

                }
            });
        }


        function NotifyHourly() {
            //alert("notify-signalr");
            //////////////////// Hourly Notification /////////////
            var URL = (window.location.href).toLowerCase();



            var d = new Date($('#todate').val());
            if (URL.indexOf("hourly") > 0)
            { d = new Date($('#fromdate').val()); }
            var month = d.getMonth() + 1;
            var day = d.getDate();

            var FromDate2 = d.getFullYear() + '/' +
                (('' + month).length < 2 ? '0' : '') + month + '/' +
                (('' + day).length < 2 ? '0' : '') + day;

            $.ajax({
                type: "POST",
                url: "/SignalRNotify/NotifyHourlyReport",
                data: "{timezone:'" + $('#rzone').val() + "',viewdata:'" + $('#selectedview').val() + "',fromdate:'" + FromDate2 + "',todate:'" + $('#todate').val() + "',dataview:'testing'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {
                }
            });
            //////////////////// Hourly Notification /////////////
        }

        //function NotifyCampaigns() {
        //    $.ajax({
        //        type: "POST",
        //        url: "/SignalRNotify/DashBoardCompains",
        //        //data: "{ID:'" + ID + "'}",
        //        contentType: "application/json; charset=utf-8",
        //        dataType: "json",
        //        success: function (data) {
        //        }
        //    });
        //}

        function DashBoardSparks() {
            $.ajax({
                type: "POST",
                url: "/Home/DashBoardSparks",
                //data: "{ID:'" + ID + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {
                    $("#totalCampains").text(data.Campains);
                    $("#totalRevenue").text(data.Revenue);
                    $("#totalClick").text(data.Click);
                    $("#totalConversion").text(data.Conversion);
                }
            });


        }

        function TrafficChartSignalR() {
            var url = null;
            var urltraffic = null;
            var urlrevenue = null;
            var urlrbycampaign = null;
            var urlcbycampaign = null;

            urltraffic = typeof urltraffic !== 'undefined' && urltraffic != null ? '/chart/gettraffic/?' + urltraffic : '/chart/gettraffic';
            urlrevenue = typeof urlrevenue !== 'undefined' && urlrevenue != null ? '/chart/GetRevenue/?' + urlrevenue : '/chart/GetRevenue';
            urlrbycampaign = typeof urlrbycampaign !== 'undefined' && urlrbycampaign != null ? '/chart/rbycampaign/?' + urlrbycampaign : '/chart/rbycampaign';
            urlcbycampaign = typeof urlcbycampaign !== 'undefined' && urlcbycampaign != null ? '/chart/cbycampaign/?' + urlcbycampaign : '/chart/cbycampaign';

            $.get(urltraffic, function (data) {

                var obj = JSON.parse(data);
                var chart = $('#dailychart').highcharts();
                chart.xAxis.categories = obj.Xaxis;
                chart.series[0].setData(obj.Serie1);
                chart.series[1].setData(obj.Serie2);
            });
            $.getJSON(urlrevenue, function (data) {

                var chart = $('#grossincome').highcharts();
                chart.xAxis.categories = data.Xaxis;
                chart.series[0].setData(data.Serie1);
                chart.series[1].setData(data.Serie2);

            });

            $.getJSON(urlrbycampaign, function (data) {
                var chart = $('#piechartrevenue').highcharts();
                chart.series[0].data = data;
                // make the second call to get the cost pie
                urlcbycampaign = typeof url !== 'undefined' && url != null ? '/chart/cbycampaign/?' + url : '/chart/cbycampaign';
                $.getJSON(urlcbycampaign, function (data) {
                    var piechart = $('#piechartcost').highcharts();
                    if (piechart != 'undefined')
                    { piechart.series[0].data = data; }


                });


            });
        }

        function NotifyTicker() {


            $.ajax({
                type: "Post",
                url: "/SignalRNotify/TickerNotify",
                //data: "{TickerID:'" + tickerID + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {
                    // $("#totalCampains").text(data);
                }
            });
        }


        //------------------------------------------ End SignalR Notification ---------------------



    </script>

    <!--=====================End Sripts============================= -->


</body>



</html>
